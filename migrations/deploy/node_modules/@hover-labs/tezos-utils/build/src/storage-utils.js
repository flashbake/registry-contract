"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.substituteVariables = void 0;
function substituteVariables(contractStorage, substitutionMap) {
    for (const key in substitutionMap) {
        if (substitutionMap.hasOwnProperty(key)) {
            const value = substitutionMap[key];
            let encodedValue = JSON.stringify(value);
            if (typeof value === 'object') {
                if (value._isBigNumber) {
                    encodedValue = value.toFixed();
                }
                else if (Object.keys(value).length !== 0) {
                    throw new Error("Not done yet :P");
                }
                else {
                    encodedValue = '{}';
                }
            }
            if (typeof value === 'string') {
                if ((value.startsWith('{') && value.endsWith('}')) || (value.startsWith('(') && value.endsWith(')'))) {
                    encodedValue = value;
                }
            }
            if (encodedValue == '"None"') {
                encodedValue = '(None)';
            }
            if (encodedValue == 'false' || encodedValue == 'true') {
                encodedValue = encodedValue[0].toUpperCase() + encodedValue.slice(1);
            }
            contractStorage = contractStorage.replace(key, encodedValue);
        }
    }
    return contractStorage;
}
exports.substituteVariables = substituteVariables;
//# sourceMappingURL=storage-utils.js.map